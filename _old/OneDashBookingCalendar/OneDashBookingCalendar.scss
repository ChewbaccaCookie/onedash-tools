@import "../styles/colors.scss";

.onedash-calendar {
	*:focus-visible {
		display: none;
	}
	margin-top: 10px;

	max-width: 600px;
	button {
		border: none;
		background: none;
	}

	.react-calendar__tile {
		height: 60px;

		padding: 0;

		&:focus {
			outline: none;
			abbr {
				outline: 1px dotted darkblue;
			}
		}
		abbr {
			flex: 1;
			background: $calendarTileBackground;
			width: calc(100% - 8px);
			height: calc(100% - 8px);
			margin-left: 2px;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 1rem;
			cursor: pointer;
			border-radius: 4px;
			border: 2px solid transparent;
		}
		&:disabled abbr {
			cursor: default;
		}
		&:hover:not([disabled]) {
			abbr {
				border-color: darken($calendarTileBackground, 30);
				background: lighten($calendarBooked, 30);
			}
		}

		&--active {
			abbr {
				background: $calendarBooked !important;
			}
		}
	}

	.react-calendar__tile--now abbr {
		height: calc(100% - 10px);
		border-bottom: 4px solid $calendarToday;
	}
	.react-calendar__decade-view__years__year.react-calendar__tile--now {
		border: 2px solid $calendarToday;
		border-radius: 4px;
	}
	.react-calendar__month-view__days__day.day-booked {
		&.day-pending abbr {
			border-bottom: 4px solid $calendarPending;
		}
		abbr {
			height: calc(100% - 10px);
			animation: 0.7s dayHasBooked linear;
			border-bottom: 4px solid $calendarBooked;
		}
	}

	.react-calendar__month-view__days__day--weekend.day-booked {
		&.day-pending abbr {
			border-bottom: 4px solid $calendarPending;
		}
		abbr {
			height: calc(100% - 10px);
			animation: 0.7s dayHasBookedWeekend linear;
			border-bottom: 4px solid $calendarBooked;
		}
	}

	.react-calendar__month-view__days__day--weekend {
		abbr {
			background: $calendarTileWeekendBackground;
		}
	}

	.react-calendar__month-view__weekdays {
		.react-calendar__month-view__weekdays__weekday {
			text-align: center;
			padding: 10px 0px;
			abbr {
				text-decoration: none;
			}
		}
	}

	.react-calendar__month-view__weekNumbers {
		.react-calendar__tile {
			display: flex;
			align-items: center;
			font-weight: bold;
			justify-content: center;
		}
	}

	.react-calendar__navigation {
		padding: 20px 0px;
		* {
			color: $calendarHeaderTextColor;
		}

		font-size: 1.2rem;

		.react-calendar__navigation__arrow {
			font-size: 2rem;
			padding: 0px 1rem;
			cursor: pointer;
			transform: $calendarTransition;
			&:hover {
				opacity: 0.5;
			}
		}

		.react-calendar__navigation__next2-button,
		.react-calendar__navigation__prev2-button,
		.react-calendar__navigation__arrow:disabled {
			display: none;
		}

		.react-calendar__navigation__label {
			cursor: pointer;
			font-size: 1.3rem;
			transition: $calendarTransition;
			&:hover {
				opacity: 0.7;
			}
		}
	}
}
@media (max-width: 768px) {
	.react-calendar__month-view__weekNumbers {
		display: none !important;
	}
}
.booking-dialog {
	.dialog {
		max-width: 600px;

		.onedash-form > div {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			.onedash-input-container {
				flex-grow: 1;
				.onedash-input {
					width: calc(100% - 28px);
				}
			}
		}
	}
}

@keyframes dayHasBooked {
	0% {
		background: $calendarTileBackground;
	}
	40% {
		background: lighten($calendarBooked, 20);
	}

	100% {
		background: $calendarTileBackground;
	}
}
@keyframes dayHasBookedWeekend {
	0% {
		background: $calendarTileWeekendBackground;
	}
	40% {
		background: lighten($calendarBooked, 30);
	}

	100% {
		background: $calendarTileWeekendBackground;
	}
}

.onedash-calendar-legend {
	width: calc(87.5% - 10px);
	margin: 10px 5px 20px 12.5%;
	padding-left: 5px;
	border-top: 1px solid $calendarLegendBorder;
	padding: 10px 0px;
	display: flex;
	flex-wrap: wrap;

	&:focus {
		outline: 1px dotted darkblue;
	}

	.legend-entry {
		display: flex;
		align-items: center;
		margin: 5px 10px;

		.legend-color {
			width: 15px;
			height: 15px;
			display: inline-block;

			border-radius: 4px;

			&.today {
				background: $calendarToday;
			}

			&.booked {
				background: $calendarBooked;
			}
			&.pending {
				background: $calendarPending;
			}
		}
		.legend-name {
			display: inline-block;
			margin-left: 5px;
			font-size: 1rem;
		}
	}
}
